<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Artik Food</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2e7d32">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}

/* ===== HEADER ===== */
header {
  background: #2e7d32;
  color: #fff;
  padding: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}
header img {
  height: 40px;
}
header h1 {
  font-size: 18px;
  margin: 0;
}

/* ===== SEARCH ===== */
#search {
  width: 100%;
  padding: 12px;
  border: none;
  font-size: 16px;
  outline: none;
}

/* ===== MAIN ===== */
main {
  padding: 10px;
}

/* ===== PRODUCT CARD ===== */
.product {
  background: #fff;
  border-radius: 8px;
  padding: 10px;
  margin-bottom: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.product button {
  background: #2e7d32;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
}

/* ===== PRODUCT LIST (CATEGORY) ===== */
.product-list {
  background: #fff;
  border-radius: 6px;
  padding: 10px;
  margin-bottom: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-left: 4px solid #2e7d32;
}

/* ===== CART ===== */
#cart {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #fff;
  border-top: 1px solid #ccc;
  padding: 10px;
  font-size: 14px;
}

/* ===== FLOAT BUTTONS ===== */
.float-stack {
  position: fixed;
  right: 12px;
  bottom: 130px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 999;
}
.float-stack button {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: none;
  background: #2e7d32;
  color: #fff;
  font-size: 18px;
}

/* ===== HIDE ===== */
.hidden { display: none; }
</style>
</head>

<body>

<header>
  <img src="logo.png">
  <h1>Artik Food</h1>
</header>

<input id="search" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞...">

<main id="products"></main>

<div id="cart">
  üõí <span id="cartCount">0</span> |
  üí∞ <span id="cartSum">0</span> ÷è |
  üöö 500 ÷è
</div>

<!-- FLOAT BUTTONS -->
<div class="float-stack">
  <button onclick="scrollTopSmooth()">‚¨ÜÔ∏è</button>
  <button onclick="goHome()">üè†</button>
  <button onclick="goBack()">‚Ü©Ô∏è</button>
  <button onclick="openWA()">üí¨</button>
  <button onclick="openTG()">‚úàÔ∏è</button>
</div>

<script>
/* ===== DATA (–ø—Ä–∏–º–µ—Ä, —Ç–≤–æ–π defaultStores —Å—é–¥–∞ –∂–µ) ===== */
let products = [
  {name:"–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price:300},
  {name:"–õ—É–∫ 1–∫–≥", price:250},
  {name:"–ú–æ–ª–æ–∫–æ 1–ª", price:350},
  {name:"–•–ª–µ–±", price:200}
];

/* ===== CART ===== */
let cart = JSON.parse(localStorage.getItem("cart") || "[]");

function saveCart() {
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCart();
}

function updateCart() {
  document.getElementById("cartCount").innerText = cart.length;
  document.getElementById("cartSum").innerText =
    cart.reduce((s,p)=>s+p.price,0);
}

function addToCart(p) {
  cart.push(p);
  saveCart();
}

/* ===== RENDER ===== */
function render(list, type="grid") {
  const box = document.getElementById("products");
  box.innerHTML = "";
  list.forEach(p => {
    const div = document.createElement("div");
    div.className = type==="list" ? "product-list" : "product";
    div.innerHTML = `
      <div>
        <b>${p.name}</b><br>${p.price} ÷è
      </div>
      <button onclick='addToCart(${JSON.stringify(p)})'>+</button>
    `;
    box.appendChild(div);
  });
}

/* ===== SEARCH ===== */
document.getElementById("search").addEventListener("input", e=>{
  const q = e.target.value.toLowerCase();
  render(products.filter(p=>p.name.toLowerCase().includes(q)));
});

/* ===== NAV ===== */
function scrollTopSmooth() {
  window.scrollTo({top:0, behavior:"smooth"});
}
function goHome() {
  render(products);
}
function goBack() {
  history.back();
}
function openWA() {
  window.open("https://wa.me/","_blank");
}
function openTG() {
  window.open("https://t.me/","_blank");
}

/* ===== INIT ===== */
render(products);
updateCart();

/* ===== PWA ===== */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
