<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artik Food ‚Äî –î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f8f8f8; color: #333; }
    header { background: #2ecc71; color: white; padding: 12px 16px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    header h1 { margin: 0; font-size: 22px; cursor: pointer; }
    nav a { color: white; margin-left: 12px; text-decoration: none; font-weight: bold; font-size: 14px; }

    .hero { background: #27ae60; color: white; padding: 40px 16px; text-align: center; }
    .hero h2 { font-size: 30px; margin-bottom: 10px; }
    .hero p { font-size: 17px; margin-bottom: 20px; }
    .hero button { background: white; color: #27ae60; border: none; padding: 12px 20px; font-size: 16px; border-radius: 6px; cursor: pointer; }

    .section { padding: 32px 16px; max-width: 1100px; margin: auto; }
    .section h3 { text-align: center; margin-bottom: 24px; }

    .shops, .categories, .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px; }

    .card, .product { background: white; padding: 16px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-align: center; cursor: pointer; }
    .product button { background: #2ecc71; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; margin-top: 10px; font-size: 14px; }

    .cart { background: white; padding: 16px; border-radius: 10px; max-width: 700px; margin: 20px auto; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .cart h4 { margin-top: 0; }
    .cart-store { border-top: 1px solid #ddd; margin-top: 12px; padding-top: 12px; }
    .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; font-size: 14px; }
    .cart-item button { background:#e74c3c; color:white; border:none; border-radius:4px; padding:4px 8px; cursor:pointer; }
    .cart-total { font-weight: bold; margin-top: 10px; }

    .cart button.main-btn { width: 100%; background: #27ae60; color: white; border: none; padding: 10px; font-size: 15px; border-radius: 6px; cursor: pointer; margin-top: 10px; }

    .order-form { background: white; padding: 20px; border-radius: 10px; max-width: 500px; margin: auto; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .order-form input, .order-form textarea { width: 100%; padding: 10px; margin-bottom: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 14px; }
    .order-form button { width: 100%; background: #27ae60; color: white; border: none; padding: 12px; font-size: 16px; border-radius: 6px; cursor: pointer; }

    .whatsapp-btn { position: fixed; bottom: 16px; right: 16px; background: #25D366; color: white; padding: 14px 18px; border-radius: 50px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); font-size: 15px; display:flex; align-items:center; gap:6px; }
    .telegram-btn { position: fixed; bottom: 70px; right: 16px; background: #0088cc; color: white; padding: 14px 18px; border-radius: 50px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); font-size: 15px; display:flex; align-items:center; gap:6px; }

    footer { background: #2ecc71; color: white; text-align: center; padding: 16px; margin-top: 40px; font-size: 14px; }

    .hidden { display: none; }

    /* Admin styles */
    .admin-login, .admin-panel {
      max-width: 600px;
      margin: 40px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .admin-panel h3 { text-align: center; }
    .admin-panel select, .admin-panel input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .admin-panel button {
      width: 100%;
      background: #27ae60;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 8px;
    }
    .admin-panel .danger {
      background: #e74c3c;
    }
  </style>
</head>
<body>

<header>
  <h1 onclick="goHome()">Artik Food</h1>
  <nav>
    <a href="#" onclick="goHome()">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="#order">–ó–∞–∫–∞–∑–∞—Ç—å</a>
    <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    <a href="#" onclick="openAdmin()">–ê–¥–º–∏–Ω</a>
  </nav>
</header>

<!-- –ì–õ–ê–í–ù–ê–Ø -->
<div id="home-page">

<section class="hero">
  <h2>–î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</h2>
  <p>–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–æ–≤ ‚Äî –ø—Ä—è–º–æ –∫ –≤–∞—à–µ–π –¥–≤–µ—Ä–∏</p>
  <button onclick="document.getElementById('order').scrollIntoView({behavior:'smooth'});">–ó–∞–∫–∞–∑–∞—Ç—å —Å–µ–π—á–∞—Å</button>
</section>

<section class="section" id="shops">
  <h3>–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã</h3>
  <div class="shops" id="shops-list"></div>
</section>

<section class="section" id="catalog">
  <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</h3>
  <div class="categories" id="categories-list"></div>
</section>

<section class="section hidden" id="category-page">
  <h3 id="category-title"></h3>
  <div class="products" id="category-products"></div>
  <div style="text-align:center; margin-top:20px;">
    <button onclick="goHome()" style="background:#27ae60;color:white;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
  </div>
</section>

<section class="section">
  <div class="cart" id="cart">
    <h4>–ö–æ—Ä–∑–∏–Ω—ã –ø–æ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–∞–º</h4>
    <div id="cart-stores"></div>
    <div class="cart-total" id="cart-total">–ò—Ç–æ–≥–æ: 0 AMD</div>
    <button class="main-btn" onclick="sendToWhatsApp()">üì≤ –ó–∞–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ WhatsApp</button>
    <button class="main-btn" onclick="sendToTelegram()" style="background:#0088cc;">‚úàÔ∏è –ó–∞–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ Telegram</button>
    <button class="main-btn" onclick="clearCart()" style="background:#e74c3c; margin-top:8px;">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ—Ä–∑–∏–Ω—ã</button>
  </div>
</section>

</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –°–£–ü–ï–†–ú–ê–†–ö–ï–¢–ê -->
<div id="store-page" class="hidden">
  <section class="section">
    <h3 id="store-title"></h3>
    <div class="products" id="store-products"></div>
    <div style="text-align:center; margin-top:20px;">
      <button onclick="goHome()" style="background:#27ae60;color:white;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </div>
  </section>
</div>

<!-- –ê–î–ú–ò–ù –õ–û–ì–ò–ù -->
<div id="admin-login" class="admin-login hidden">
  <h3>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3>
  <input type="text" id="admin-user" placeholder="–õ–æ–≥–∏–Ω" />
  <input type="password" id="admin-pass" placeholder="–ü–∞—Ä–æ–ª—å" />
  <button onclick="loginAdmin()">–í–æ–π—Ç–∏</button>
  <p id="admin-error" style="color:red; text-align:center;"></p>
</div>

<!-- –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ -->
<div id="admin-panel" class="admin-panel hidden">
  <h3>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3>

  <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç:</label>
  <select id="admin-store-select" onchange="loadAdminProducts()"></select>

  <div id="admin-products-list"></div>

  <h4>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h4>
  <input type="text" id="new-product-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" />
  <input type="number" id="new-product-price" placeholder="–¶–µ–Ω–∞ (AMD)" />
  <button onclick="addProduct()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>

  <button class="danger" onclick="logoutAdmin()">–í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏</button>
</div>

<!-- –û–§–û–†–ú–õ–ï–ù–ò–ï -->
<section class="section" id="order">
  <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
  <form class="order-form" onsubmit="event.preventDefault(); sendFormToWhatsApp();">
    <input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è" required />
    <input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required />
    <input type="text" id="address" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" required />
    <textarea rows="3" id="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É"></textarea>
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </form>
</section>

<section class="section" id="contacts">
  <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
  <div class="card" style="max-width:400px; margin:auto;">
    <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω / WhatsApp: <a href="tel:+37443797727" style="color:#27ae60; font-weight:bold;">+374 43 79 77 27</a></p>
    <p>‚úàÔ∏è Telegram: @artikfood</p>
    <p>üìç –ê—Ä—Ç–∏–∫, –ê—Ä–º–µ–Ω–∏—è</p>
  </div>
</section>

<a class="whatsapp-btn" href="https://wa.me/37443797727" target="_blank">üì≤ WhatsApp</a>
<a class="telegram-btn" href="https://t.me/artikfood" target="_blank">
  ‚úàÔ∏è Telegram
</a>

<footer>
  <p>¬© 2026 Artik Food ‚Äî –î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</p>
</footer>

<script>
  /* ================= –î–ê–ù–ù–´–ï ================= */

  let cart = {}; // –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º

  const categories = {
    "ü•¶ –û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã": ["–û–≤–æ—â–∏ –∞—Å—Å–æ—Ä—Ç–∏", "–§—Ä—É–∫—Ç—ã –∞—Å—Å–æ—Ä—Ç–∏", "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å", "–õ—É–∫", "–ü–æ–º–∏–¥–æ—Ä—ã", "–û–≥—É—Ä—Ü—ã", "–Ø–±–ª–æ–∫–∏", "–ê–ø–µ–ª—å—Å–∏–Ω—ã", "–ë–∞–Ω–∞–Ω—ã", "–ó–µ–ª–µ–Ω—å", "–ì—Ä–∏–±—ã", "–ö–∞–ø—É—Å—Ç–∞"],
    "ü•© –ú—è—Å–æ –∏ —Ä—ã–±–∞": ["–ú—è—Å–æ –∫—É—Ä–∏–Ω–æ–µ", "–ú—è—Å–æ –≥–æ–≤—è–¥–∏–Ω–∞", "–ö–æ–ª–±–∞—Å–∞"],
    "üßÄ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã": ["–ú–æ–ª–æ–∫–æ 1–ª", "–ô–æ–≥—É—Ä—Ç", "–ö–µ—Ñ–∏—Ä", "–°–º–µ—Ç–∞–Ω–∞", "–°—ã—Ä", "–¢–≤–æ—Ä–æ–≥", "–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ"],
    "üçû –•–ª–µ–± –∏ –≤—ã–ø–µ—á–∫–∞": ["–•–ª–µ–±", "–ë—É–ª–æ—á–∫–∏", "–ö—Ä—É–∞—Å—Å–∞–Ω—ã"],
    "ü•´ –ë–∞–∫–∞–ª–µ—è": ["–°–∞—Ö–∞—Ä 1–∫–≥", "–†–∏—Å 1–∫–≥", "–ú–∞–∫–∞—Ä–æ–Ω—ã", "–ú–∞—Å–ª–æ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–æ–µ", "–ß–∞–π", "–ö–æ—Ñ–µ", "–®–æ–∫–æ–ª–∞–¥"],
    "üßÉ –ù–∞–ø–∏—Ç–∫–∏": ["–°–æ–∫", "–í–æ–¥–∞", "–ì–∞–∑–∏—Ä–æ–≤–∫–∞"],
    "üßº –ë—ã—Ç–æ–≤–∞—è —Ö–∏–º–∏—è": ["–ü–æ—Ä–æ—à–æ–∫", "–ú—ã–ª–æ", "–®–∞–º–ø—É–Ω—å"],
    "üç∞ Danielyan Sweet": ["–¢–æ—Ä—Ç —à–æ–∫–æ–ª–∞–¥–Ω—ã–π", "–¢–æ—Ä—Ç –≤–∞–Ω–∏–ª—å–Ω—ã–π", "–ü–∏—Ä–æ–∂–Ω–æ–µ —ç–∫–ª–µ—Ä", "–ü–∏—Ä–æ–∂–Ω–æ–µ –Ω–∞–ø–æ–ª–µ–æ–Ω", "–ü–µ—á–µ–Ω—å–µ –∞—Å—Å–æ—Ä—Ç–∏", "–ß–∏–∑–∫–µ–π–∫", "–ú–∞—Ñ—Ñ–∏–Ω—ã", "–ö–æ–Ω—Ñ–µ—Ç—ã"]
  };

  const defaultStores = {
    million: {
      name: "Million",
      products: [
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 0 },
        { name: "–•–ª–µ–±", price: 0 },
        { name: "–Ø–π—Ü–∞ 10—à—Ç", price: 0 },
        { name: "–°–∞—Ö–∞—Ä 1–∫–≥", price: 0 },
        { name: "–†–∏—Å 1–∫–≥", price: 0 },
        { name: "–ú–∞—Å–ª–æ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–æ–µ", price: 0 },
        { name: "–°—ã—Ä", price: 0 },
        { name: "–ö–æ–ª–±–∞—Å–∞", price: 0 },
        { name: "–ú–∞–∫–∞—Ä–æ–Ω—ã", price: 0 },
        { name: "–ß–∞–π", price: 0 },
        { name: "–ö–æ—Ñ–µ", price: 0 },
        { name: "–®–æ–∫–æ–ª–∞–¥", price: 0 }
      ]
    },
    mush: {
      name: "’Ñ’∏÷Ç’∑",
      products: [
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 0 },
        { name: "–ô–æ–≥—É—Ä—Ç", price: 0 },
        { name: "–ö–µ—Ñ–∏—Ä", price: 0 },
        { name: "–°–º–µ—Ç–∞–Ω–∞", price: 0 },
        { name: "–•–ª–µ–±", price: 0 },
        { name: "–Ø–π—Ü–∞", price: 0 },
        { name: "–°—ã—Ä", price: 0 },
        { name: "–ö–æ–ª–±–∞—Å–∞", price: 0 },
        { name: "–ú—è—Å–æ –∫—É—Ä–∏–Ω–æ–µ", price: 0 },
        { name: "–ú—è—Å–æ –≥–æ–≤—è–¥–∏–Ω–∞", price: 0 },
        { name: "–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ", price: 0 },
        { name: "–¢–≤–æ—Ä–æ–≥", price: 0 }
      ]
    },
    tonoyan: {
      name: "Tonoyan",
      products: [
        { name: "–û–≤–æ—â–∏ –∞—Å—Å–æ—Ä—Ç–∏", price: 0 },
        { name: "–§—Ä—É–∫—Ç—ã –∞—Å—Å–æ—Ä—Ç–∏", price: 0 },
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å", price: 0 },
        { name: "–õ—É–∫", price: 0 },
        { name: "–ü–æ–º–∏–¥–æ—Ä—ã", price: 0 },
        { name: "–û–≥—É—Ä—Ü—ã", price: 0 },
        { name: "–Ø–±–ª–æ–∫–∏", price: 0 },
        { name: "–ê–ø–µ–ª—å—Å–∏–Ω—ã", price: 0 },
        { name: "–ë–∞–Ω–∞–Ω—ã", price: 0 },
        { name: "–ó–µ–ª–µ–Ω—å", price: 0 },
        { name: "–ì—Ä–∏–±—ã", price: 0 },
        { name: "–ö–∞–ø—É—Å—Ç–∞", price: 0 }
      ]
    },
    danielyan: {
      name: "Danielyan",
      products: [
        { name: "–¢–æ—Ä—Ç —à–æ–∫–æ–ª–∞–¥–Ω—ã–π", price: 0 },
        { name: "–¢–æ—Ä—Ç –≤–∞–Ω–∏–ª—å–Ω—ã–π", price: 0 },
        { name: "–ü–∏—Ä–æ–∂–Ω–æ–µ —ç–∫–ª–µ—Ä", price: 0 },
        { name: "–ü–∏—Ä–æ–∂–Ω–æ–µ –Ω–∞–ø–æ–ª–µ–æ–Ω", price: 0 },
        { name: "–ü–µ—á–µ–Ω—å–µ –∞—Å—Å–æ—Ä—Ç–∏", price: 0 },
        { name: "–ö—Ä—É–∞—Å—Å–∞–Ω—ã", price: 0 },
        { name: "–ë—É–ª–æ—á–∫–∏", price: 0 },
        { name: "–ü–∞—Ö–ª–∞–≤–∞", price: 0 },
        { name: "–ß–∏–∑–∫–µ–π–∫", price: 0 },
        { name: "–ú–∞—Ñ—Ñ–∏–Ω—ã", price: 0 },
        { name: "–†—É–ª–µ—Ç—ã", price: 0 },
        { name: "–ö–æ–Ω—Ñ–µ—Ç—ã", price: 0 }
      ]
    }
  };

  let stores = JSON.parse(localStorage.getItem("stores")) || defaultStores;

  function saveStores() {
    localStorage.setItem("stores", JSON.stringify(stores));
  }

  /* ================= –†–ï–ù–î–ï–† ================= */

  function renderShops() {
    const container = document.getElementById("shops-list");
    container.innerHTML = "";
    Object.keys(stores).forEach(key => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerText = "üõí " + stores[key].name;
      div.onclick = () => openStore(key);
      container.appendChild(div);
    });
  }

  function renderCategories() {
    const container = document.getElementById("categories-list");
    container.innerHTML = "";
    Object.keys(categories).forEach(cat => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerText = cat;
      div.onclick = () => openCategory(cat);
      container.appendChild(div);
    });
  }

  function openStore(storeKey) {
    const store = stores[storeKey];
    document.getElementById('home-page').classList.add('hidden');
    document.getElementById('store-page').classList.remove('hidden');
    document.getElementById('category-page').classList.add('hidden');
    document.getElementById('store-title').innerText = store.name;

    const container = document.getElementById('store-products');
    container.innerHTML = '';

    store.products.forEach((item) => {
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <h4>${item.name}</h4>
        <p>–¶–µ–Ω–∞: ${item.price} AMD</p>
        <button onclick="addToCart('${storeKey}', '${item.name}', ${item.price})">–í –∫–æ—Ä–∑–∏–Ω—É</button>
      `;
      container.appendChild(div);
    });

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function openCategory(categoryName) {
    document.getElementById('home-page').classList.add('hidden');
    document.getElementById('store-page').classList.add('hidden');
    document.getElementById('category-page').classList.remove('hidden');
    document.getElementById('category-title').innerText = categoryName;

    const container = document.getElementById('category-products');
    container.innerHTML = '';

    categories[categoryName].forEach(productName => {
      let found = [];
      Object.keys(stores).forEach(storeKey => {
        const store = stores[storeKey];
        const product = store.products.find(p => p.name === productName);
        if (product) {
          found.push({
            storeKey,
            storeName: store.name,
            price: product.price
          });
        }
      });

      if (found.length > 0) {
        const div = document.createElement('div');
        div.className = 'product';
        let inner = `<h4>${productName}</h4>`;
        found.forEach(f => {
          inner += `<p>${f.storeName}: ${f.price} AMD 
            <button onclick="addToCart('${f.storeKey}', '${productName}', ${f.price})">–í –∫–æ—Ä–∑–∏–Ω—É</button>
          </p>`;
        });
        div.innerHTML = inner;
        container.appendChild(div);
      }
    });

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function goHome() {
    document.getElementById('store-page').classList.add('hidden');
    document.getElementById('category-page').classList.add('hidden');
    document.getElementById('admin-login').classList.add('hidden');
    document.getElementById('admin-panel').classList.add('hidden');
    document.getElementById('home-page').classList.remove('hidden');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  /* ================= –ö–û–†–ó–ò–ù–ê ================= */

  function addToCart(storeKey, name, price) {
    if (!cart[storeKey]) cart[storeKey] = [];
    cart[storeKey].push({ name, price });
    renderCart();
  }

  function removeFromCart(storeKey, index) {
    cart[storeKey].splice(index, 1);
    if (cart[storeKey].length === 0) delete cart[storeKey];
    renderCart();
  }

  function renderCart() {
    const container = document.getElementById('cart-stores');
    container.innerHTML = '';
    let grandTotal = 0;

    Object.keys(cart).forEach(storeKey => {
      const store = stores[storeKey];
      const storeDiv = document.createElement('div');
      storeDiv.className = 'cart-store';
      storeDiv.innerHTML = `<h5>üõí ${store.name}</h5>`;

      let storeTotal = 0;

      cart[storeKey].forEach((item, index) => {
        storeTotal += item.price;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <span>${item.name} ‚Äî ${item.price} AMD</span>
          <button onclick="removeFromCart('${storeKey}', ${index})">‚úñ</button>
        `;
        storeDiv.appendChild(div);
      });

      const totalDiv = document.createElement('div');
      totalDiv.className = 'cart-total';
      totalDiv.innerText = `–ò—Ç–æ–≥–æ (${store.name}): ${storeTotal} AMD`;
      storeDiv.appendChild(totalDiv);

      container.appendChild(storeDiv);
      grandTotal += storeTotal;
    });

    document.getElementById('cart-total').innerText = `–ò—Ç–æ–≥–æ: ${grandTotal} AMD`;
  }

  function clearCart() {
    cart = {};
    renderCart();
  }

  /* ================= –û–¢–ü–†–ê–í–ö–ê ================= */

  function sendToWhatsApp() {
    if (Object.keys(cart).length === 0) {
      alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
      return;
    }

    let message = '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å:%0A%0A';
    let grandTotal = 0;

    Object.keys(cart).forEach(storeKey => {
      const store = stores[storeKey];
      message += `üõí ${store.name}%0A`;
      let storeTotal = 0;

      cart[storeKey].forEach(item => {
        message += `- ${item.name}: ${item.price} AMD%0A`;
        storeTotal += item.price;
      });

      message += `–ò—Ç–æ–≥–æ (${store.name}): ${storeTotal} AMD%0A%0A`;
      grandTotal += storeTotal;
    });

    message += `–û–±—â–∏–π –∏—Ç–æ–≥: ${grandTotal} AMD`;

    window.open(`https://wa.me/37443797727?text=${message}`, '_blank');
  }

  function sendToTelegram() {
    if (Object.keys(cart).length === 0) {
      alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
      return;
    }

    let message = '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å:%0A%0A';
    let grandTotal = 0;

    Object.keys(cart).forEach(storeKey => {
      const store = stores[storeKey];
      message += `üõí ${store.name}%0A`;
      let storeTotal = 0;

      cart[storeKey].forEach(item => {
        message += `- ${item.name}: ${item.price} AMD%0A`;
        storeTotal += item.price;
      });

      message += `–ò—Ç–æ–≥–æ (${store.name}): ${storeTotal} AMD%0A%0A`;
      grandTotal += storeTotal;
    });

    message += `–û–±—â–∏–π –∏—Ç–æ–≥: ${grandTotal} AMD`;

    window.open(`https://t.me/artikfood?text=${message}`, '_blank');
  }

  function sendFormToWhatsApp() {
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const address = document.getElementById('address').value;
    const comment = document.getElementById('comment').value;

    let message = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%0A–ò–º—è: ${name}%0A–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}%0A–ê–¥—Ä–µ—Å: ${address}`;
    if (comment) message += `%0A–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}`;

    window.open(`https://wa.me/37443797727?text=${message}`, '_blank');
  }

  /* ================= ADMIN ================= */

  function openAdmin() {
    document.getElementById('home-page').classList.add('hidden');
    document.getElementById('store-page').classList.add('hidden');
    document.getElementById('category-page').classList.add('hidden');
    document.getElementById('admin-login').classList.remove('hidden');
  }

  function loginAdmin() {
    const user = document.getElementById('admin-user').value;
    const pass = document.getElementById('admin-pass').value;
    if (user === "admin" && pass === "1234") {
      document.getElementById('admin-login').classList.add('hidden');
      document.getElementById('admin-panel').classList.remove('hidden');
      loadAdminStores();
    } else {
      document.getElementById('admin-error').innerText = "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å";
    }
  }

  function logoutAdmin() {
    document.getElementById('admin-panel').classList.add('hidden');
    goHome();
  }

  function loadAdminStores() {
    const select = document.getElementById("admin-store-select");
    select.innerHTML = "";
    Object.keys(stores).forEach(key => {
      const option = document.createElement("option");
      option.value = key;
      option.text = stores[key].name;
      select.appendChild(option);
    });
    loadAdminProducts();
  }

  function loadAdminProducts() {
    const storeKey = document.getElementById("admin-store-select").value;
    const list = document.getElementById("admin-products-list");
    list.innerHTML = "";

    stores[storeKey].products.forEach((item, index) => {
      const div = document.createElement("div");
      div.innerHTML = `
        <input type="text" value="${item.name}" onchange="editProductName('${storeKey}', ${index}, this.value)" />
        <input type="number" value="${item.price}" onchange="editProductPrice('${storeKey}', ${index}, this.value)" />
        <button class="danger" onclick="deleteProduct('${storeKey}', ${index})">–£–¥–∞–ª–∏—Ç—å</button>
        <hr/>
      `;
      list.appendChild(div);
    });
  }

  function editProductName(storeKey, index, value) {
    stores[storeKey].products[index].name = value;
    saveStores();
  }

  function editProductPrice(storeKey, index, value) {
    stores[storeKey].products[index].price = Number(value);
    saveStores();
  }

  function deleteProduct(storeKey, index) {
    stores[storeKey].products.splice(index, 1);
    saveStores();
    loadAdminProducts();
  }

  function addProduct() {
    const storeKey = document.getElementById("admin-store-select").value;
    const name = document.getElementById("new-product-name").value;
    const price = Number(document.getElementById("new-product-price").value);

    if (!name || price < 0) {
      alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ");
      return;
    }

    stores[storeKey].products.push({ name, price });
    saveStores();
    document.getElementById("new-product-name").value = "";
    document.getElementById("new-product-price").value = "";
    loadAdminProducts();
  }

  /* ================= –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ================= */
  renderShops();
  renderCategories();
</script>

</body>
</html>
