<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Artik Food</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f6f6f6; margin:0; padding:10px; }
    h2 { margin-top:0; }
    .hidden { display:none; }
    .card { background:#fff; padding:15px; margin:10px 0; border-radius:8px; cursor:pointer; }
    .product { background:#fff; padding:10px; margin:8px 0; border-radius:6px; }
    .cart { background:#fff; padding:10px; margin-top:10px; border-radius:6px; }
    .cart-item { display:flex; justify-content:space-between; margin:5px 0; }
    button { padding:5px 10px; margin:2px; }
    .qty-controls { display:flex; align-items:center; gap:8px; }
  </style>
</head>
<body>

<h2>üõí Artik Food</h2>

<div id="home-page">
  <h3>–ú–∞–≥–∞–∑–∏–Ω—ã</h3>
  <div id="shops-list"></div>

  <h3>üßæ –û–±—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞</h3>
  <div id="global-cart-items"></div>
  <div id="global-cart-total"></div>
</div>

<div id="store-page" class="hidden">
  <button onclick="goHome()">‚¨Ö –ù–∞–∑–∞–¥</button>
  <h3 id="store-title"></h3>

  <div id="store-products"></div>

  <div class="cart">
    <h4>–ö–æ—Ä–∑–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h4>
    <div id="store-cart-items"></div>
    <div id="store-cart-total"></div>
  </div>
</div>

<script>
  let carts = JSON.parse(localStorage.getItem("carts")) || {};
  let currentStore = null;

  const stores = {
    million: {
      name: "Million",
      products: [
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 450 },
        { name: "–ô–æ–≥—É—Ä—Ç", price: 350 },
        { name: "–°—ã—Ä 200–≥", price: 900 },
        { name: "–•–ª–µ–±", price: 200 },
        { name: "–Ø–π—Ü–∞ 10—à—Ç", price: 650 },
        { name: "–°–∞—Ö–∞—Ä 1–∫–≥", price: 420 },
        { name: "–ö–æ–ª–±–∞—Å–∞", price: 1200 },
        { name: "–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ", price: 1400 },
        { name: "–Ø–±–ª–æ–∫–∏ 1–∫–≥", price: 350 },
        { name: "–ë–∞–Ω–∞–Ω—ã 1–∫–≥", price: 480 },
        { name: "–°–æ–∫", price: 400 },
        { name: "–í–æ–¥–∞ 1.5–ª", price: 200 },
        { name: "–®–æ–∫–æ–ª–∞–¥", price: 500 },
        { name: "–ü–µ—á–µ–Ω—å–µ", price: 450 },
        { name: "–ü–æ—Ä–æ—à–æ–∫ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã–π", price: 1800 }
      ]
    },
    mush: {
      name: "’Ñ’∏÷Ç’∑",
      products: [
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 430 },
        { name: "–¢–≤–æ—Ä–æ–≥", price: 500 },
        { name: "–°—ã—Ä", price: 880 },
        { name: "–õ–∞–≤–∞—à", price: 250 },
        { name: "–Ø–π—Ü–∞ 10—à—Ç", price: 640 },
        { name: "–†–∏—Å 1–∫–≥", price: 490 },
        { name: "–ú–∞–∫–∞—Ä–æ–Ω—ã", price: 340 },
        { name: "–ì–æ–≤—è–¥–∏–Ω–∞", price: 2300 },
        { name: "–ö—É—Ä–∏—Ü–∞ —Ü–µ–ª–∞—è", price: 1600 },
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price: 250 },
        { name: "–õ—É–∫ 1–∫–≥", price: 200 },
        { name: "–û–≥—É—Ä—Ü—ã 1–∫–≥", price: 500 },
        { name: "–ì–∞–∑–∏—Ä–æ–≤–∫–∞", price: 280 },
        { name: "–ö–æ–Ω—Ñ–µ—Ç—ã", price: 600 },
        { name: "–®–∞–º–ø—É–Ω—å", price: 1100 }
      ]
    },
    tonoyan: {
      name: "Tonoyan",
      products: [
        { name: "–Ø–±–ª–æ–∫–∏ 1–∫–≥", price: 330 },
        { name: "–ë–∞–Ω–∞–Ω—ã 1–∫–≥", price: 460 },
        { name: "–ê–ø–µ–ª—å—Å–∏–Ω—ã 1–∫–≥", price: 520 },
        { name: "–ü–æ–º–∏–¥–æ—Ä—ã 1–∫–≥", price: 540 },
        { name: "–û–≥—É—Ä—Ü—ã 1–∫–≥", price: 500 },
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price: 240 },
        { name: "–õ—É–∫ 1–∫–≥", price: 190 },
        { name: "–ö–∞–ø—É—Å—Ç–∞ 1–∫–≥", price: 220 },
        { name: "–ó–µ–ª–µ–Ω—å", price: 150 },
        { name: "–ì—Ä–∏–±—ã", price: 700 }
      ]
    },
    danielyan: {
      name: "Danielyan",
      products: [
        { name: "–¢–æ—Ä—Ç —à–æ–∫–æ–ª–∞–¥–Ω—ã–π", price: 2500 },
        { name: "–¢–æ—Ä—Ç –≤–∞–Ω–∏–ª—å–Ω—ã–π", price: 2400 },
        { name: "–≠–∫–ª–µ—Ä", price: 300 },
        { name: "–ù–∞–ø–æ–ª–µ–æ–Ω", price: 2800 },
        { name: "–ö—Ä—É–∞—Å—Å–∞–Ω", price: 250 },
        { name: "–ú–∞—Ñ—Ñ–∏–Ω", price: 350 },
        { name: "–ü–∞—Ö–ª–∞–≤–∞", price: 400 },
        { name: "–ü–µ—á–µ–Ω—å–µ –∞—Å—Å–æ—Ä—Ç–∏", price: 1500 }
      ]
    }
  };

  function saveCarts() {
    localStorage.setItem("carts", JSON.stringify(carts));
  }

  function renderShops() {
    const container = document.getElementById("shops-list");
    container.innerHTML = "";
    Object.keys(stores).forEach(key => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerText = "üõí " + stores[key].name;
      div.onclick = () => openStore(key);
      container.appendChild(div);
    });
  }

  function openStore(storeKey) {
    currentStore = storeKey;
    document.getElementById("home-page").classList.add("hidden");
    document.getElementById("store-page").classList.remove("hidden");
    document.getElementById("store-title").innerText = stores[storeKey].name;

    const container = document.getElementById("store-products");
    container.innerHTML = "";

    stores[storeKey].products.forEach(item => {
      const qty = carts[storeKey]?.[item.name]?.qty || 0;
      const div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <strong>${item.name}</strong><br/>
        –¶–µ–Ω–∞: ${item.price} AMD<br/>
        <div class="qty-controls">
          <button onclick="changeQty('${storeKey}', '${item.name}', ${item.price}, -1)">‚àí</button>
          <span id="qty-${storeKey}-${item.name.replace(/\\s+/g,'')}">${qty}</span>
          <button onclick="changeQty('${storeKey}', '${item.name}', ${item.price}, 1)">+</button>
        </div>
      `;
      container.appendChild(div);
    });

    renderStoreCart(storeKey);
  }

  function goHome() {
    document.getElementById("store-page").classList.add("hidden");
    document.getElementById("home-page").classList.remove("hidden");
    renderGlobalCart();
  }

  function changeQty(storeKey, name, price, delta) {
    if (!carts[storeKey]) carts[storeKey] = {};
    if (!carts[storeKey][name]) carts[storeKey][name] = { price, qty: 0 };

    carts[storeKey][name].qty += delta;
    if (carts[storeKey][name].qty <= 0) {
      delete carts[storeKey][name];
    }

    updateQtyDisplay(storeKey, name);
    renderStoreCart(storeKey);
    renderGlobalCart();
    saveCarts();
  }

  function updateQtyDisplay(storeKey, name) {
    const id = `qty-${storeKey}-${name.replace(/\\s+/g,'')}`;
    const el = document.getElementById(id);
    if (el) el.innerText = carts[storeKey]?.[name]?.qty || 0;
  }

  function removeItem(storeKey, name) {
    if (carts[storeKey] && carts[storeKey][name]) {
      delete carts[storeKey][name];
      renderStoreCart(storeKey);
      renderGlobalCart();
      saveCarts();
    }
  }

  function renderStoreCart(storeKey) {
    const container = document.getElementById("store-cart-items");
    container.innerHTML = "";
    let total = 0;

    const storeCart = carts[storeKey] || {};
    Object.keys(storeCart).forEach(name => {
      const item = storeCart[name];
      const sum = item.price * item.qty;
      total += sum;
      const div = document.createElement("div");
      div.className = "cart-item";
      div.innerHTML = `
        <span>${name} √ó ${item.qty}</span>
        <span>${sum} AMD</span>
        <button onclick="removeItem('${storeKey}', '${name}')" style="color:red;border:none;background:none;cursor:pointer;">‚ùå</button>
      `;
      container.appendChild(div);
    });

    document.getElementById("store-cart-total").innerText = "–ò—Ç–æ–≥–æ: " + total + " AMD";
  }

  function renderGlobalCart() {
    const container = document.getElementById("global-cart-items");
    container.innerHTML = "";
    let total = 0;

    Object.keys(carts).forEach(storeKey => {
      const storeName = stores[storeKey].name;
      const storeCart = carts[storeKey];

      if (storeCart && Object.keys(storeCart).length > 0) {
        const title = document.createElement("div");
        title.innerHTML = "<strong>" + storeName + "</strong>";
        title.style.marginTop = "10px";
        container.appendChild(title);

        Object.keys(storeCart).forEach(name => {
          const item = storeCart[name];
          const sum = item.price * item.qty;
          total += sum;
          const div = document.createElement("div");
          div.className = "cart-item";
          div.innerHTML = `
            <span>${name} √ó ${item.qty}</span>
            <span>${sum} AMD</span>
            <button onclick="removeItem('${storeKey}', '${name}')" style="color:red;border:none;background:none;cursor:pointer;">‚ùå</button>
          `;
          container.appendChild(div);
        });
      }
    });

    document.getElementById("global-cart-total").innerText = "–ò—Ç–æ–≥–æ: " + total + " AMD";
  }

  renderShops();
  renderGlobalCart();
</script>

</body>
</html>
