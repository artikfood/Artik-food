<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artik Food ‚Äî –î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2e7d32">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f6f8;
      color: #333;
    }
    header {
      background: #2e7d32;
      color: #fff;
      padding: 15px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    h1, h2, h3 {
      margin: 10px 0;
    }
    .hidden {
      display: none;
    }
    .container {
      padding: 15px;
    }
    .stores, .categories, .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 12px;
    }
    .card, .product {
      background: #fff;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      text-align: center;
    }
    .card:hover {
      background: #e8f5e9;
    }
    .product h4 {
      margin: 5px 0;
    }
    .qty-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }
    .qty-controls button {
      width: 30px;
      height: 30px;
      border: none;
      border-radius: 50%;
      background: #2e7d32;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
    }
    .qty-number {
      min-width: 20px;
      text-align: center;
      font-weight: bold;
    }
    .cart {
      background: #fff;
      padding: 12px;
      border-radius: 12px;
      margin-top: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
    }
    .cart-total {
      font-weight: bold;
      margin-top: 10px;
    }
    .btn {
      display: block;
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      background: #2e7d32;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    .btn.secondary {
      background: #555;
    }
    .nav-back {
      margin-bottom: 10px;
      cursor: pointer;
      color: #2e7d32;
      font-weight: bold;
    }
  </style>
</head>
<body>

<header>
  <h1>Artik Food</h1>
  <p>–î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</p>
</header>

<div class="container">

  <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
  <div id="home-page">
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç</h2>
    <div class="stores" id="store-list"></div>
    <div class="cart" id="global-cart">
      <h3>–û–±—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞</h3>
      <div id="global-cart-items"></div>
      <div class="cart-total" id="global-cart-total">–ò—Ç–æ–≥–æ: 0 AMD</div>
      <button class="btn" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
  </div>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞ -->
  <div id="store-page" class="hidden">
    <div class="nav-back" onclick="goHome()">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</div>
    <h2 id="store-title"></h2>
    <div id="store-products" class="categories"></div>
    <div class="cart hidden" id="store-cart">
      <h3>–ö–æ—Ä–∑–∏–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h3>
      <div id="store-cart-items"></div>
      <div class="cart-total" id="store-cart-total">–ò—Ç–æ–≥–æ: 0 AMD</div>
    </div>
  </div>

</div>

<script>
  const stores = {
    million: {
      name: "Million",
      products: [
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price: 300, category: "–û–≤–æ—â–∏" },
        { name: "–õ—É–∫ 1–∫–≥", price: 250, category: "–û–≤–æ—â–∏" },
        { name: "–Ø–±–ª–æ–∫–∏ 1–∫–≥", price: 450, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–ë–∞–Ω–∞–Ω—ã 1–∫–≥", price: 600, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 420, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–°—ã—Ä 200–≥", price: 850, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–•–ª–µ–± –±–µ–ª—ã–π", price: 180, category: "–•–ª–µ–±" },
        { name: "–õ–∞–≤–∞—à", price: 120, category: "–•–ª–µ–±" },
        { name: "–ö—É—Ä–∏—Ü–∞ 1–∫–≥", price: 1600, category: "–ú—è—Å–æ" },
        { name: "–ì–æ–≤—è–¥–∏–Ω–∞ 1–∫–≥", price: 2800, category: "–ú—è—Å–æ" },
        { name: "–°–æ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π", price: 700, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–í–æ–¥–∞ 1.5–ª", price: 180, category: "–ù–∞–ø–∏—Ç–∫–∏" }
      ]
    },
    mush: {
      name: "’Ñ’∏÷Ç’∑",
      products: [
        { name: "–û–≥—É—Ä—Ü—ã 1–∫–≥", price: 400, category: "–û–≤–æ—â–∏" },
        { name: "–ü–æ–º–∏–¥–æ—Ä—ã 1–∫–≥", price: 500, category: "–û–≤–æ—â–∏" },
        { name: "–ì—Ä—É—à–∏ 1–∫–≥", price: 480, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–ê–ø–µ–ª—å—Å–∏–Ω—ã 1–∫–≥", price: 520, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–ô–æ–≥—É—Ä—Ç 400–≥", price: 350, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ", price: 900, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–ë–∞—Ç–æ–Ω", price: 200, category: "–•–ª–µ–±" },
        { name: "–•–ª–µ–± —á—ë—Ä–Ω—ã–π", price: 190, category: "–•–ª–µ–±" },
        { name: "–§–∞—Ä—à 1–∫–≥", price: 2100, category: "–ú—è—Å–æ" },
        { name: "–ö–æ–ª–±–∞—Å–∞ 500–≥", price: 1800, category: "–ú—è—Å–æ" },
        { name: "–ß–∞–π –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π", price: 750, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–ö–æ–ª–∞ 1–ª", price: 350, category: "–ù–∞–ø–∏—Ç–∫–∏" }
      ]
    },
    tonoyan: {
      name: "Tonoyan",
      products: [
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –º–æ–ª–æ–¥–æ–π 1–∫–≥", price: 320, category: "–û–≤–æ—â–∏" },
        { name: "–ú–æ—Ä–∫–æ–≤—å 1–∫–≥", price: 220, category: "–û–≤–æ—â–∏" },
        { name: "–ü–µ—Ä—Å–∏–∫–∏ 1–∫–≥", price: 650, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–í–∏–Ω–æ–≥—Ä–∞–¥ 1–∫–≥", price: 700, category: "–§—Ä—É–∫—Ç—ã" },
        { name: "–ö–µ—Ñ–∏—Ä 1–ª", price: 380, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–°–º–µ—Ç–∞–Ω–∞ 400–≥", price: 420, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–•–ª–µ–± —Ç–æ—Å—Ç–æ–≤—ã–π", price: 250, category: "–•–ª–µ–±" },
        { name: "–ë—É–ª–æ—á–∫–∏ 4—à—Ç", price: 300, category: "–•–ª–µ–±" },
        { name: "–°–≤–∏–Ω–∏–Ω–∞ 1–∫–≥", price: 2400, category: "–ú—è—Å–æ" },
        { name: "–°–æ—Å–∏—Å–∫–∏ 1–∫–≥", price: 2000, category: "–ú—è—Å–æ" },
        { name: "–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–æ–¥–∞", price: 220, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–°–æ–∫ —è–±–ª–æ—á–Ω—ã–π", price: 680, category: "–ù–∞–ø–∏—Ç–∫–∏" }
      ]
    },
    danielyan: {
      name: "Danielyan",
      products: [
        { name: "–®–æ–∫–æ–ª–∞–¥ –º–æ–ª–æ—á–Ω—ã–π", price: 500, category: "–°–ª–∞–¥–æ—Å—Ç–∏" },
        { name: "–ö–æ–Ω—Ñ–µ—Ç—ã –∞—Å—Å–æ—Ä—Ç–∏", price: 1200, category: "–°–ª–∞–¥–æ—Å—Ç–∏" },
        { name: "–ü–µ—á–µ–Ω—å–µ –æ–≤—Å—è–Ω–æ–µ", price: 450, category: "–°–ª–∞–¥–æ—Å—Ç–∏" },
        { name: "–¢–æ—Ä—Ç —à–æ–∫–æ–ª–∞–¥–Ω—ã–π", price: 3500, category: "–°–ª–∞–¥–æ—Å—Ç–∏" },
        { name: "–°–æ–∫ –º—É–ª—å—Ç–∏—Ñ—Ä—É–∫—Ç", price: 720, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–ß–∞–π –∑–µ–ª—ë–Ω—ã–π", price: 680, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–ö–æ—Ñ–µ –º–æ–ª–æ—Ç—ã–π", price: 2200, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–í–æ–¥–∞ –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è", price: 200, category: "–ù–∞–ø–∏—Ç–∫–∏" },
        { name: "–•–ª–µ–± —Å–ª–∞–¥–∫–∏–π", price: 260, category: "–•–ª–µ–±" },
        { name: "–ë—É–ª–æ—á–∫–∞ —Å –∫–æ—Ä–∏—Ü–µ–π", price: 180, category: "–•–ª–µ–±" },
        { name: "–ú–æ–ª–æ–∫–æ —à–æ–∫–æ–ª–∞–¥–Ω–æ–µ", price: 450, category: "–ú–æ–ª–æ—á–Ω—ã–µ" },
        { name: "–ô–æ–≥—É—Ä—Ç –∫–ª—É–±–Ω–∏—á–Ω—ã–π", price: 360, category: "–ú–æ–ª–æ—á–Ω—ã–µ" }
      ]
    }
  };

  let carts = {};
  let currentStore = null;

  function init() {
    renderStores();
    updateGlobalCart();
  }

  function renderStores() {
    const list = document.getElementById("store-list");
    list.innerHTML = "";
    Object.keys(stores).forEach(key => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `<h3>${stores[key].name}</h3>`;
      div.onclick = () => openStore(key);
      list.appendChild(div);
    });
  }

  function openStore(storeKey) {
    currentStore = storeKey;

    document.getElementById('home-page').classList.add('hidden');
    document.getElementById('store-page').classList.remove('hidden');

    document.getElementById('store-title').innerText = stores[storeKey].name;

    const container = document.getElementById('store-products');
    container.innerHTML = '';

    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞
    const categories = [...new Set(stores[storeKey].products.map(p => p.category))];

    categories.forEach(category => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<h4>${category}</h4>`;
      div.onclick = () => openStoreCategory(storeKey, category);
      container.appendChild(div);
    });

    document.getElementById('store-cart').classList.add('hidden');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function openStoreCategory(storeKey, categoryName) {
    currentStore = storeKey;
    const container = document.getElementById('store-products');
    container.innerHTML = '';

    stores[storeKey].products.forEach(item => {
      if (item.category === categoryName) {
        const safeId = item.name.replace(/\s+/g, '');
        const qty = carts[storeKey]?.[item.name]?.qty || 0;

        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <h4>${item.name}</h4>
          <p>–¶–µ–Ω–∞: ${item.price} AMD</p>
          <div class="qty-controls">
            <button onclick="changeQty('${storeKey}', '${item.name}', ${item.price}, -1)">‚àí</button>
            <span class="qty-number" id="qty-${storeKey}-${safeId}">${qty}</span>
            <button onclick="changeQty('${storeKey}', '${item.name}', ${item.price}, 1)">+</button>
          </div>
        `;
        container.appendChild(div);
      }
    });

    document.getElementById('store-cart').classList.remove('hidden');
    updateStoreCart(storeKey);
  }

  function changeQty(storeKey, productName, price, delta) {
    if (!carts[storeKey]) carts[storeKey] = {};
    if (!carts[storeKey][productName]) carts[storeKey][productName] = { qty: 0, price };

    carts[storeKey][productName].qty += delta;
    if (carts[storeKey][productName].qty <= 0) {
      delete carts[storeKey][productName];
    }

    const safeId = productName.replace(/\s+/g, '');
    const qtySpan = document.getElementById(`qty-${storeKey}-${safeId}`);
    if (qtySpan) {
      qtySpan.innerText = carts[storeKey]?.[productName]?.qty || 0;
    }

    updateStoreCart(storeKey);
    updateGlobalCart();
  }

  function updateStoreCart(storeKey) {
    const cartDiv = document.getElementById('store-cart-items');
    cartDiv.innerHTML = '';
    let total = 0;

    if (carts[storeKey]) {
      Object.keys(carts[storeKey]).forEach(product => {
        const item = carts[storeKey][product];
        const line = document.createElement('div');
        line.className = 'cart-item';
        line.innerHTML = `<span>${product} x ${item.qty}</span><span>${item.qty * item.price} AMD</span>`;
        cartDiv.appendChild(line);
        total += item.qty * item.price;
      });
    }

    document.getElementById('store-cart-total').innerText = `–ò—Ç–æ–≥–æ: ${total} AMD`;
  }

  function updateGlobalCart() {
    const cartDiv = document.getElementById('global-cart-items');
    cartDiv.innerHTML = '';
    let total = 0;

    Object.keys(carts).forEach(storeKey => {
      Object.keys(carts[storeKey]).forEach(product => {
        const item = carts[storeKey][product];
        const line = document.createElement('div');
        line.className = 'cart-item';
        line.innerHTML = `<span>${stores[storeKey].name}: ${product} x ${item.qty}</span><span>${item.qty * item.price} AMD</span>`;
        cartDiv.appendChild(line);
        total += item.qty * item.price;
      });
    });

    document.getElementById('global-cart-total').innerText = `–ò—Ç–æ–≥–æ: ${total} AMD`;
  }

  function checkout() {
    if (Object.keys(carts).length === 0) {
      alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
      return;
    }

    let message = "–ó–∞–∫–∞–∑ Artik Food:\n\n";
    Object.keys(carts).forEach(storeKey => {
      message += `üõí ${stores[storeKey].name}:\n`;
      Object.keys(carts[storeKey]).forEach(product => {
        const item = carts[storeKey][product];
        message += `- ${product} x ${item.qty} = ${item.qty * item.price} AMD\n`;
      });
      message += "\n";
    });

    message += "–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏: \n–¢–µ–ª–µ—Ñ–æ–Ω: \n–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ";

    const encoded = encodeURIComponent(message);
    const telegramUrl = `https://t.me/share/url?url=&text=${encoded}`;
    const whatsappUrl = `https://wa.me/?text=${encoded}`;

    if (confirm("–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram? –ù–∞–∂–º–∏—Ç–µ –û–ö –¥–ª—è Telegram, –û—Ç–º–µ–Ω–∞ ‚Äî –¥–ª—è WhatsApp.")) {
      window.open(telegramUrl, "_blank");
    } else {
      window.open(whatsappUrl, "_blank");
    }
  }

  function goHome() {
    document.getElementById('store-page').classList.add('hidden');
    document.getElementById('home-page').classList.remove('hidden');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  document.addEventListener("DOMContentLoaded", init);
</script>

</body>
</html>
