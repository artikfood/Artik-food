<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Artik Food</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2e7d32">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f5f5f5;
}

header {
  background: #2e7d32;
  color: #fff;
  padding: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}

header img {
  height: 40px;
}

header h1 {
  font-size: 18px;
  margin: 0;
}

#search {
  width: 100%;
  padding: 10px;
  border: none;
  outline: none;
  font-size: 16px;
}

main {
  padding: 10px;
}

.product {
  background: #fff;
  margin-bottom: 8px;
  padding: 10px;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.product button {
  background: #2e7d32;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
}

#cart {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #fff;
  border-top: 1px solid #ddd;
  padding: 10px;
}

.float-buttons {
  position: fixed;
  right: 10px;
  bottom: 120px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.float-buttons button {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  background: #2e7d32;
  color: #fff;
  font-size: 18px;
}

</style>
</head>

<body>

<header>
  <img src="logo.png" alt="Artik Food">
  <h1>Artik Food</h1>
</header>

<input id="search" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞..." />

<main id="products"></main>

<div id="cart">
  üõí –¢–æ–≤–∞—Ä–æ–≤: <span id="cartCount">0</span> |
  –°—É–º–º–∞: <span id="cartSum">0</span> ÷è |
  –î–æ—Å—Ç–∞–≤–∫–∞: 500 ÷è
</div>

<div class="float-buttons">
  <button onclick="scrollToTop()">‚¨ÜÔ∏è</button>
  <button onclick="alert('–ì–ª–∞–≤–Ω–∞—è')">üè†</button>
  <button onclick="alert('–ù–∞–∑–∞–¥')">‚Ü©Ô∏è</button>
  <button onclick="window.open('https://wa.me/','_blank')">üí¨</button>
</div>

<script>
// ======= –¢–û–í–ê–†–´ (–ó–î–ï–°–¨ –ú–û–ñ–ï–®–¨ –í–°–¢–ê–í–ò–¢–¨ –°–í–û–ô defaultStores) =======
const productsData = [
  { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price: 300 },
  { name: "–õ—É–∫ 1–∫–≥", price: 250 },
  { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 350 },
  { name: "–•–ª–µ–±", price: 200 }
];

// ======= –ö–û–†–ó–ò–ù–ê =======
let cart = JSON.parse(localStorage.getItem("cart") || "[]");

function renderProducts(list) {
  const box = document.getElementById("products");
  box.innerHTML = "";
  list.forEach(p => {
    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <div>
        <strong>${p.name}</strong><br>
        ${p.price} ÷è
      </div>
      <button onclick='addToCart(${JSON.stringify(p)})'>+</button>
    `;
    box.appendChild(div);
  });
}

function addToCart(p) {
  cart.push(p);
  saveCart();
}

function saveCart() {
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCart();
}

function updateCart() {
  document.getElementById("cartCount").innerText = cart.length;
  const sum = cart.reduce((s,p)=>s+p.price,0);
  document.getElementById("cartSum").innerText = sum;
}

document.getElementById("search").addEventListener("input", e => {
  const q = e.target.value.toLowerCase();
  renderProducts(productsData.filter(p => p.name.toLowerCase().includes(q)));
});

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: "smooth" });
}

// INIT
renderProducts(productsData);
updateCart();

// PWA
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>

