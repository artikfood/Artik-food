<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artik Food — Доставка продуктов в Артике</title>

  <!-- PWA -->
  <meta name="theme-color" content="#2ecc71">
  <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAA1BMVEUAAACnej3aAAAASElEQVR4nO3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALwKcKAAAQyTtWAAAAAElFTkSuQmCC">

  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f8f8f8; color: #333; }
    header { background: #2ecc71; color: white; padding: 12px 16px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    header .logo-box { display:flex; align-items:center; gap:10px; cursor:pointer; }
    header img { height: 40px; }
    header h1 { margin: 0; font-size: 22px; }

    nav a { color: white; margin-left: 12px; text-decoration: none; font-weight: bold; font-size: 14px; }
    .lang-switch { margin-left: 12px; background:#fff; color:#2ecc71; border:none; border-radius:6px; padding:4px 8px; cursor:pointer; font-weight:bold; }

    .hero { background: #27ae60; color: white; padding: 40px 16px; text-align: center; }
    .hero h2 { font-size: 30px; margin-bottom: 10px; }
    .hero p { font-size: 17px; margin-bottom: 20px; }
    .hero button { background: white; color: #27ae60; border: none; padding: 12px 20px; font-size: 16px; border-radius: 6px; cursor: pointer; }

    .section { padding: 32px 16px; max-width: 1100px; margin: auto; }
    .section h3 { text-align: center; margin-bottom: 24px; }

    .shops, .categories { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px; }

    .products {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .card, .product {
      background: white;
      padding: 16px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
      cursor: pointer;
    }

    .product {
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-align: left;
      gap: 10px;
    }

    .product h4 { margin: 0; font-size: 16px; }
    .product p { margin: 4px 0; font-size: 14px; }

    .product button { background: #2ecc71; color: white; border: none; padding: 6px 10px; border-radius: 6px; cursor: pointer; font-size: 14px; }

    .qty-controls { display:flex; justify-content:center; align-items:center; gap:8px; }
    .qty-controls button { width:30px; height:30px; border-radius:50%; border:none; background:#2ecc71; color:white; font-weight:bold; cursor:pointer; }
    .qty-number { min-width:20px; font-weight:bold; }

    .cart { background:white; padding:16px; border-radius:10px; max-width:500px; margin:20px auto; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    .cart h4 { margin-top:0; text-align:center; }
    .cart-item { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; font-size:14px; gap:8px; }
    .cart-total { font-weight:bold; margin-top:10px; text-align:center; }
    .cart button { width:100%; background:#27ae60; color:white; border:none; padding:10px; font-size:15px; border-radius:6px; cursor:pointer; margin-top:10px; }

    .order-form { background:white; padding:20px; border-radius:10px; max-width:500px; margin:auto; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    .order-form input, .order-form textarea, .order-form select { width:100%; padding:10px; margin-bottom:12px; border-radius:6px; border:1px solid #ccc; font-size:14px; }
    .order-form button { width:100%; background:#27ae60; color:white; border:none; padding:12px; font-size:16px; border-radius:6px; cursor:pointer; }

    .whatsapp-btn { position:fixed; bottom:16px; right:16px; background:#25D366; color:white; padding:14px 18px; border-radius:50px; text-decoration:none; font-weight:bold; box-shadow:0 4px 10px rgba(0,0,0,0.2); font-size:15px; }
    .telegram-btn { position:fixed; bottom:70px; right:16px; background:#0088cc; color:white; padding:14px 18px; border-radius:50px; text-decoration:none; font-weight:bold; box-shadow:0 4px 10px rgba(0,0,0,0.2); font-size:15px; display:flex; align-items:center; gap:6px; }

    footer { background:#2ecc71; color:white; text-align:center; padding:16px; margin-top:40px; font-size:14px; }
    .hidden { display:none; }

    .back-btn {
      display: inline-block;
      margin-bottom: 12px;
      background: #ddd;
      color: #333;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    /* Floating nav */
    .floating-buttons {
      position: fixed;
      bottom: 140px;
      right: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 9999;
    }
    .floating-buttons button {
      padding: 10px 14px;
      border: none;
      border-radius: 25px;
      background: #ff6b00;
      color: #fff;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      cursor: pointer;
    }
    .floating-buttons button:hover { background:#e65c00; }

    /* Админ и курьер */
    .admin-panel, .courier-panel {
      max-width: 1000px;
      margin: 40px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .admin-panel table, .courier-panel table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }
    .admin-panel th, .admin-panel td,
    .courier-panel th, .courier-panel td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    .admin-panel th, .courier-panel th {
      background: #f1f1f1;
    }
    .status-new { color: blue; }
    .status-work { color: orange; }
    .status-done { color: green; }
    .status-cancel { color: red; }
  </style>
</head>
<body>

<header>
  <div class="logo-box" onclick="goHome()">
    <img src="logo.png" alt="Artik Food">
    <h1>Artik Food</h1>
  </div>
  <nav>
    <a href="#" onclick="goHome()">Главная</a>
    <a href="#order">Заказать</a>
    <a href="#contacts">Контакты</a>
  </nav>
</header>

<!-- ГЛАВНАЯ -->
<div id="home-page">

<section class="hero">
  <h2>Доставка продуктов в Артике</h2>
  <p>Свежие продукты из супермаркетов — прямо к вашей двери</p>
  <button onclick="document.getElementById('order').scrollIntoView({behavior:'smooth'});">Заказать сейчас</button>
</section>

<section class="section" id="shops">
  <h3>Супермаркеты</h3>
  <div class="shops" id="shops-list"></div>
</section>

<section class="section">
  <div class="cart" id="global-cart">
    <h4>Корзина (все магазины)</h4>
    <div id="global-cart-items"></div>
    <div class="cart-total" id="global-cart-total">Товары: 0 AMD</div>
    <div class="cart-total" id="delivery-total">Доставка: 0 AMD</div>
    <div class="cart-total" id="grand-total">Итого: 0 AMD</div>
  </div>
</section>

</div>

<!-- СТРАНИЦА СУПЕРМАРКЕТА -->
<div id="store-page" class="hidden">
  <section class="section">
    <h3 id="store-title"></h3>
    <div class="products" id="store-products"></div>

    <div class="cart hidden" id="store-cart">
      <h4>Корзина этого магазина</h4>
      <div id="store-cart-items"></div>
      <div class="cart-total" id="store-cart-total">Итого: 0 AMD</div>
      <button onclick="sendStoreToWhatsApp()">Заказать из этого магазина (WhatsApp)</button>
      <button onclick="sendStoreToTelegram()" style="background:#0088cc;">Заказать из этого магазина (Telegram)</button>
    </div>
  </section>
</div>

<!-- ОФОРМЛЕНИЕ -->
<section class="section" id="order">
  <h3>Оформление заказа</h3>
  <form class="order-form" onsubmit="event.preventDefault(); sendFormToWhatsApp(); saveOrder();">
    <input type="text" id="name" placeholder="Ваше имя" required />
    <input type="tel" id="phone" placeholder="Телефон" required />
    <input type="text" id="address" placeholder="Адрес доставки" required />
    <select id="district" required onchange="renderGlobalCart()">
      <option value="">Выберите район доставки</option>
      <option value="Артик">Артик — 500 AMD</option>
      <option value="Арич">Арич — 700 AMD</option>
      <option value="Нор-Кянк">Нор-К
