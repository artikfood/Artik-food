<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artik Food ‚Äî –î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; }
    header { background:#2e7d32; color:white; padding:15px; text-align:center; }
    nav { background:#388e3c; display:flex; justify-content:center; gap:15px; padding:10px; flex-wrap:wrap; }
    nav a { color:white; text-decoration:none; font-weight:bold; }
    section { padding:15px; display:none; }
    section.active { display:block; }

    .store-list, .category-list, .product-list { display:flex; flex-wrap:wrap; gap:10px; }
    .card { background:white; padding:10px; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1); width:160px; text-align:center; cursor:pointer; }
    .product { background:white; padding:10px; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1); width:200px; }
    .controls { display:flex; justify-content:center; align-items:center; gap:5px; margin-top:5px; }
    .controls button { padding:5px 10px; }

    .cart { background:white; padding:10px; border-radius:8px; margin-top:15px; box-shadow:0 0 5px rgba(0,0,0,0.1); }
    .cart-item { display:flex; justify-content:space-between; margin-bottom:5px; }

    input, select { padding:8px; width:100%; margin-bottom:10px; }

    button { padding:8px 12px; background:#2e7d32; color:white; border:none; border-radius:5px; cursor:pointer; }
    button:hover { background:#1b5e20; }

    .admin-table { width:100%; border-collapse:collapse; margin-top:10px; }
    .admin-table th, .admin-table td { border:1px solid #ccc; padding:8px; text-align:left; }

    .status-new { color:blue; }
    .status-work { color:orange; }
    .status-done { color:green; }
    .status-cancel { color:red; }
  </style>
</head>
<body>

<header>
  <h1>Artik Food</h1>
  <p>–î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ê—Ä—Ç–∏–∫–µ</p>
</header>

<nav>
  <a href="#" onclick="showSection('home')">–ì–ª–∞–≤–Ω–∞—è</a>
  <a href="#" onclick="showSection('cart')">–ö–æ—Ä–∑–∏–Ω–∞</a>
  <a href="#" onclick="showSection('contacts')">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
  <a href="#" onclick="showSection('login')">–ê–¥–º–∏–Ω / –ö—É—Ä—å–µ—Ä</a>
</nav>

<!-- –ì–ª–∞–≤–Ω–∞—è -->
<section id="home" class="active">
  <h2>–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã</h2>
  <div class="store-list" id="storeList"></div>

  <div id="categoriesSection" style="display:none;">
    <h2 id="storeTitle"></h2>
    <button onclick="backToStores()">‚Üê –ù–∞–∑–∞–¥ –∫ –º–∞–≥–∞–∑–∏–Ω–∞–º</button>
    <div class="category-list" id="categoryList"></div>
  </div>

  <div id="productsSection" style="display:none;">
    <h2 id="categoryTitle"></h2>
    <button onclick="backToCategories()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
    <div class="product-list" id="productList"></div>
  </div>
</section>

<!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
<section id="cart">
  <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
  <div class="cart" id="cartItems"></div>
  <h3 id="totalSum">–ò—Ç–æ–≥–æ: 0 ÷è</h3>

  <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
  <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è" />
  <input type="text" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" />
  <input type="text" id="customerAddress" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" />
  <button onclick="placeOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
</section>

<!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
<section id="contacts">
  <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
  <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω / WhatsApp: <b>+374 43 79 77 27</b></p>
  <p>üí¨ Telegram: <b>@artikfood</b></p>
  <p>üìç –ì–æ—Ä–æ–¥: –ê—Ä—Ç–∏–∫, –®–∏—Ä–∞–∫, –ê—Ä–º–µ–Ω–∏—è</p>
</section>

<!-- –õ–æ–≥–∏–Ω -->
<section id="login">
  <h2>–í—Ö–æ–¥</h2>
  <input type="text" id="loginUser" placeholder="–õ–æ–≥–∏–Ω" />
  <input type="password" id="loginPass" placeholder="–ü–∞—Ä–æ–ª—å" />
  <button onclick="login()">–í–æ–π—Ç–∏</button>
  <p id="loginError" style="color:red;"></p>
</section>

<!-- –ê–¥–º–∏–Ω–∫–∞ -->
<section id="adminPanel">
  <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
  <button onclick="logout()">–í—ã–π—Ç–∏</button>

  <h3>–í—Å–µ –∑–∞–∫–∞–∑—ã</h3>
  <select id="statusFilter" onchange="renderOrders()">
    <option value="all">–í—Å–µ</option>
    <option value="new">–ù–æ–≤—ã–µ</option>
    <option value="work">–í —Ä–∞–±–æ—Ç–µ</option>
    <option value="done">–î–æ—Å—Ç–∞–≤–ª–µ–Ω—ã</option>
    <option value="cancel">–û—Ç–º–µ–Ω–µ–Ω—ã</option>
  </select>

  <table class="admin-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ö–ª–∏–µ–Ω—Ç</th>
        <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
        <th>–ê–¥—Ä–µ—Å</th>
        <th>–°—É–º–º–∞</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
      </tr>
    </thead>
    <tbody id="adminOrders"></tbody>
  </table>
</section>

<!-- –ö—É—Ä—å–µ—Ä -->
<section id="courierPanel">
  <h2>–ö–∞–±–∏–Ω–µ—Ç –∫—É—Ä—å–µ—Ä–∞</h2>
  <button onclick="logout()">–í—ã–π—Ç–∏</button>
  <div id="courierOrders"></div>
</section>

<script>
/* === –¢–í–û–ô –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –ö–û–î (–ù–ï –ò–ó–ú–ï–ù–Ø–õ) === */
const defaultStores = {
  million: {
    name: "Million",
    categories: {
      "–û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã": [
        { name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å 1–∫–≥", price: 300 },
        { name: "–õ—É–∫ 1–∫–≥", price: 250 },
        { name: "–ü–æ–º–∏–¥–æ—Ä—ã 1–∫–≥", price: 600 },
        { name: "–û–≥—É—Ä—Ü—ã 1–∫–≥", price: 550 }
      ],
      "–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã": [
        { name: "–ú–æ–ª–æ–∫–æ 1–ª", price: 500 },
        { name: "–°–º–µ—Ç–∞–Ω–∞ 400–≥", price: 700 },
        { name: "–°—ã—Ä 200–≥", price: 1200 }
      ],
      "–ë–∞–∫–∞–ª–µ—è": [
        { name: "–†–∏—Å 1–∫–≥", price: 600 },
        { name: "–ú–∞–∫–∞—Ä–æ–Ω—ã 500–≥", price: 450 },
        { name: "–ì—Ä–µ—á–∫–∞ 1–∫–≥", price: 700 }
      ]
    }
  },
  mush: {
    name: "’Ñ’∏÷Ç’∑",
    categories: {
      "–û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã": [
        { name: "–Ø–±–ª–æ–∫–∏ 1–∫–≥", price: 500 },
        { name: "–ë–∞–Ω–∞–Ω—ã 1–∫–≥", price: 700 },
        { name: "–ê–ø–µ–ª—å—Å–∏–Ω—ã 1–∫–≥", price: 650 }
      ],
      "–ú—è—Å–æ –∏ —Ä—ã–±–∞": [
        { name: "–ö—É—Ä–∏—Ü–∞ 1–∫–≥", price: 1500 },
        { name: "–ì–æ–≤—è–¥–∏–Ω–∞ 1–∫–≥", price: 3500 }
      ],
      "–ù–∞–ø–∏—Ç–∫–∏": [
        { name: "–í–æ–¥–∞ 1.5–ª", price: 250 },
        { name: "–°–æ–∫ 1–ª", price: 600 }
      ]
    }
  },
  tonoyan: {
    name: "Tonoyan",
    categories: {
      "–°–ª–∞–¥–æ—Å—Ç–∏": [
        { name: "–®–æ–∫–æ–ª–∞–¥", price: 400 },
        { name: "–ü–µ—á–µ–Ω—å–µ", price: 350 },
        { name: "–ö–æ–Ω—Ñ–µ—Ç—ã 500–≥", price: 900 }
      ],
      "–ë–∞–∫–∞–ª–µ—è": [
        { name: "–°–∞—Ö–∞—Ä 1–∫–≥", price: 500 },
        { name: "–ú—É–∫–∞ 1–∫–≥", price: 400 }
      ]
    }
  },
  danielyan: {
    name: "Danielyan",
    categories: {
      "Danielyan sweet": [
        { name: "–¢–æ—Ä—Ç", price: 3000 },
        { name: "–ü–∏—Ä–æ–∂–Ω–æ–µ", price: 500 },
        { name: "–ü–∞—Ö–ª–∞–≤–∞", price: 800 }
      ],
      "–ù–∞–ø–∏—Ç–∫–∏": [
        { name: "–ö–æ—Ñ–µ", price: 700 },
        { name: "–ß–∞–π", price: 400 }
      ]
    }
  }
};

let currentStore = null;
let currentCategory = null;
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let orders = JSON.parse(localStorage.getItem("orders")) || [];

function showSection(id) {
  document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function renderStores() {
  const storeList = document.getElementById("storeList");
  storeList.innerHTML = "";
  for (let key in defaultStores) {
    const store = defaultStores[key];
    const div = document.createElement("div");
    div.className = "card";
    div.textContent = store.name;
    div.onclick = () => openStore(key);
    storeList.appendChild(div);
  }
}

function openStore(storeKey) {
  currentStore = storeKey;
  const store = defaultStores[storeKey];
  document.getElementById("storeTitle").textContent = store.name;
  document.getElementById("categoriesSection").style.display = "block";
  document.getElementById("productsSection").style.display = "none";
  document.getElementById("storeList").style.display = "none";

  const categoryList = document.getElementById("categoryList");
  categoryList.innerHTML = "";
  for (let cat in store.categories) {
    const div = document.createElement("div");
    div.className = "card";
    div.textContent = cat;
    div.onclick = () => openCategory(cat);
    categoryList.appendChild(div);
  }
}

function backToStores() {
  document.getElementById("categoriesSection").style.display = "none";
  document.getElementById("productsSection").style.display = "none";
  document.getElementById("storeList").style.display = "flex";
}

function openCategory(category) {
  currentCategory = category;
  const products = defaultStores[currentStore].categories[category];
  document.getElementById("categoryTitle").textContent = category;
  document.getElementById("productsSection").style.display = "block";

  const productList = document.getElementById("productList");
  productList.innerHTML = "";
  products.forEach(product => {
    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <h4>${product.name}</h4>
      <p>${product.price} ÷è</p>
      <div class="controls">
        <button onclick="changeQty('${product.name}', -1)">-</button>
        <span id="qty-${product.name}">${getQty(product.name)}</span>
        <button onclick="changeQty('${product.name}', 1)">+</button>
      </div>
    `;
    productList.appendChild(div);
  });
}

function backToCategories() {
  document.getElementById("productsSection").style.display = "none";
}

function getQty(name) {
  const item = cart.find(i => i.name === name);
  return item ? item.qty : 0;
}

function changeQty(name, delta) {
  const product = findProductByName(name);
  let item = cart.find(i => i.name === name);
  if (!item && delta > 0) {
    cart.push({ name, price: product.price, qty: 1, store: defaultStores[currentStore].name });
  } else if (item) {
    item.qty += delta;
    if (item.qty <= 0) cart = cart.filter(i => i.name !== name);
  }
  localStorage.setItem("cart", JSON.stringify(cart));
  document.getElementById(`qty-${name}`).textContent = getQty(name);
  renderCart();
}

function findProductByName(name) {
  for (let storeKey in defaultStores) {
    const store = defaultStores[storeKey];
    for (let cat in store.categories) {
      const product = store.categories[cat].find(p => p.name === name);
      if (product) return product;
    }
  }
  return null;
}

function renderCart() {
  const cartDiv = document.getElementById("cartItems");
  cartDiv.innerHTML = "";
  let total = 0;
  cart.forEach(item => {
    const div = document.createElement("div");
    div.className = "cart-item";
    div.innerHTML = `
      <span>${item.name} (${item.store}) x ${item.qty}</span>
      <span>${item.price * item.qty} ÷è</span>
      <button onclick="removeFromCart('${item.name}')">‚úñ</button>
    `;
    cartDiv.appendChild(div);
    total += item.price * item.qty;
  });
  document.getElementById("totalSum").textContent = "–ò—Ç–æ–≥–æ: " + total + " ÷è";
}

function removeFromCart(name) {
  cart = cart.filter(item => item.name !== name);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

function placeOrder() {
  const name = document.getElementById("customerName").value;
  const phone = document.getElementById("customerPhone").value;
  const address = document.getElementById("customerAddress").value;

  if (!name || !phone || !address || cart.length === 0) {
    alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã.");
    return;
  }

  const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
  const order = {
    id: Date.now(),
    name,
    phone,
    address,
    items: cart,
    total,
    status: "new"
  };

  orders.push(order);
  localStorage.setItem("orders", JSON.stringify(orders));
  cart = [];
  localStorage.removeItem("cart");
  renderCart();

  alert("–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.");
}

/* === –î–û–ë–ê–í–õ–ï–ù–û: –ê–î–ú–ò–ù–ö–ê –ò –ö–£–†–¨–ï–† === */

function login() {
  const user = document.getElementById("loginUser").value;
  const pass = document.getElementById("loginPass").value;

  if (user === "admin" && pass === "1234") {
    showSection("adminPanel");
    renderOrders();
  } else if (user === "courier" && pass === "1111") {
    showSection("courierPanel");
    renderCourierOrders();
  } else {
    document.getElementById("loginError").textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å";
  }
}

function logout() {
  showSection("home");
}

function renderOrders() {
  const filter = document.getElementById("statusFilter").value;
  const tbody = document.getElementById("adminOrders");
  tbody.innerHTML = "";

  orders.forEach(order => {
    if (filter !== "all" && order.status !== filter) return;

    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${order.id}</td>
      <td>${order.name}</td>
      <td>${order.phone}</td>
      <td>${order.address}</td>
      <td>${order.total} ÷è</td>
      <td class="status-${order.status}">${order.status}</td>
      <td>
        <select onchange="changeStatus(${order.id}, this.value)">
          <option value="new" ${order.status==="new"?"selected":""}>–ù–æ–≤—ã–π</option>
          <option value="work" ${order.status==="work"?"selected":""}>–í —Ä–∞–±–æ—Ç–µ</option>
          <option value="done" ${order.status==="done"?"selected":""}>–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option>
          <option value="cancel" ${order.status==="cancel"?"selected":""}>–û—Ç–º–µ–Ω—ë–Ω</option>
        </select>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function changeStatus(id, status) {
  const order = orders.find(o => o.id === id);
  if (order) {
    order.status = status;
    localStorage.setItem("orders", JSON.stringify(orders));
    renderOrders();
    renderCourierOrders();
  }
}

function renderCourierOrders() {
  const container = document.getElementById("courierOrders");
  container.innerHTML = "";

  const workOrders = orders.filter(o => o.status === "work");
  if (workOrders.length === 0) {
    container.innerHTML = "<p>–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ.</p>";
    return;
  }

  workOrders.forEach(order => {
    const div = document.createElement("div");
    div.className = "cart";
    div.innerHTML = `
      <p><b>ID:</b> ${order.id}</p>
      <p><b>–ö–ª–∏–µ–Ω—Ç:</b> ${order.name}</p>
      <p><b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> ${order.phone}</p>
      <p><b>–ê–¥—Ä–µ—Å:</b> ${order.address}</p>
      <p><b>–°—É–º–º–∞:</b> ${order.total} ÷è</p>
      <button onclick="markDelivered(${order.id})">–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω</button>
    `;
    container.appendChild(div);
  });
}

function markDelivered(id) {
  const order = orders.find(o => o.id === id);
  if (order) {
    order.status = "done";
    localStorage.setItem("orders", JSON.stringify(orders));
    renderCourierOrders();
  }
}

/* === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø === */
renderStores();
renderCart();
</script>

</body>
</html>
